import{o as _,x as v,l as f,g as h,r as l,a as g,c as w,d as e,v as b,z as u,B as d,b as k,w as y,u as x,n as S,R as V}from"./index-c15193be.js";import{c as q}from"./index-9fdbf0c7.js";const B={id:"login"},E=e("section",{class:"md"},[e("h2",null,"Entrar")],-1),L=e("small",null,[e("em",null," verifica se digitou corretamente o email e a password. ")],-1),N=[L],R={class:"md"},z=e("label",{for:"email"},"E-mail",-1),C={class:"md"},D=e("label",{for:"password"},"Palavra Passe",-1),M=e("small",null,"Ainda nÃ£o tenho uma conta",-1),P=e("section",null,[e("button",null,"Entrar")],-1),J={__name:"LoginView",setup(U){_(()=>q.update_title("Login"));const c=v(),p=f(),n=h(),t=l(""),o=l(""),r=l(!1),m=async i=>{i.preventDefault(),n.set(!0);const s=await S.post("/api/v1/auth/login",{email:t.value,password:o.value},!1,()=>n.set(!1));o.value="",t.value="",s.id?(localStorage.setItem("user",JSON.stringify({id:s.id,token:s.token})),p.set(s),c.replace("/")):r.value=!0};return(i,s)=>(g(),w("div",B,[e("form",{onSubmit:m},[E,e("section",{class:b(["error",r.value?"block-display":"none-display"])},N,2),e("section",R,[z,u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a),type:"email",id:"email",required:""},null,512),[[d,t.value]])]),e("section",C,[D,u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.value=a),type:"password",id:"password",required:"",autocomplete:"current-password"},null,512),[[d,o.value]]),e("div",null,[k(x(V),{to:"/auth/signup"},{default:y(()=>[M]),_:1})])]),P],32)]))}};export{J as default};
