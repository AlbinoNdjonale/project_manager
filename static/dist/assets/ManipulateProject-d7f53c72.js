import{x,l as j,s as C,o as $,u as S,D as q,i as y,_ as V,a as _,c as b,d as e,p as D,f as F,r as i,t as U,z as c,B as v,A as h,k as B}from"./index-c15193be.js";const K={__name:"OnlyUser",props:{ignore:{default:!1}},setup(o){const t=o,a=x(),l=j(),r=C(l).user;return $(()=>{!r.value.id&&!t.ignore&&a.replace("/auth/login")}),(u,d)=>S(r).id||o.ignore?q(u.$slots,"default",{key:0}):y("",!0)}};const g=o=>(D("data-v-781323a2"),o=o(),F(),o),M=g(()=>e("span",null,"Aviso",-1)),O=g(()=>e("p",null,"Tens a certeza de que desejas efetuar esta operação?",-1)),w={__name:"ConfirmOperation",props:{yes:{required:!0,type:Function},not:{required:!0,type:Function}},setup(o){return(t,a)=>(_(),b("div",null,[e("dialog",null,[e("section",null,[M,O,e("section",null,[e("button",{onClick:a[0]||(a[0]=(...l)=>o.yes&&o.yes(...l)),class:"btn-yes"},"Sim"),e("button",{onClick:a[1]||(a[1]=(...l)=>o.not&&o.not(...l)),class:"btn-not"},"Não")])])])]))}},I=V(w,[["__scopeId","data-v-781323a2"]]);const T={id:"dialog-add-project"},N={id:"top"},P=e("label",{for:"title"},"Titulo",-1),z=e("label",{for:"description"},"Descrição",-1),A=e("label",{for:"date"},"Data",-1),E=e("label",{for:"budget"},"Orçamento",-1),R={key:0},G=e("label",{for:"is_completed"},"Feito",-1),H=e("button",{type:"submit",id:"btn-add"},"Confirmar",-1),L={__name:"ManipulateProject",props:{close:{required:!0,type:Function},event:{required:!0,type:Function},project:{default:{}},action:{required:!0,type:String}},setup(o){const t=o,a=j(),l=i(t.project.title?t.project.title:""),r=i(t.project.description?t.project.description:""),u=i(t.project.started?`${t.project.started.year}-${t.project.started.month<10?0:""}${t.project.started.month}-${t.project.started.day<10?0:""}${t.project.started.day}`:""),d=i(t.project.budget?t.project.budget:""),p=i(t.project.is_completed?t.project.is_completed:null),m=i(!1),k=async()=>{m.value=!1;const f={title:l.value.trim()==""?null:l.value.trim(),description:r.value.trim()==""?null:r.value.trim(),admin_id:a.user.id,started:u.value==""?null:u.value,budget:d.value==""?null:parseFloat(d.value)};p.value!=null&&(f.is_completed=p.value),await t.event(f)};return(f,n)=>(_(),b("section",T,[e("dialog",null,[e("form",{onSubmit:n[6]||(n[6]=s=>{s.preventDefault(),m.value=!0})},[e("div",N,[e("h2",null,U(o.action)+" Projecto",1),e("button",{type:"button",onClick:n[0]||(n[0]=()=>{o.close()}),id:"btn-close"})]),e("section",null,[P,c(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>l.value=s),type:"text",id:"title",required:""},null,512),[[v,l.value]])]),e("section",null,[z,c(e("textarea",{"onUpdate:modelValue":n[2]||(n[2]=s=>r.value=s),id:"description",rows:"6",required:""},null,512),[[v,r.value]])]),e("section",null,[A,c(e("input",{"onUpdate:modelValue":n[3]||(n[3]=s=>u.value=s),type:"date",id:"date"},null,512),[[v,u.value]])]),e("section",null,[E,c(e("input",{"onUpdate:modelValue":n[4]||(n[4]=s=>d.value=s),type:"number",id:"budget"},null,512),[[v,d.value]])]),o.action=="Editar"?(_(),b("section",R,[G,c(e("input",{"onUpdate:modelValue":n[5]||(n[5]=s=>p.value=s),type:"checkbox",id:"is_completed"},null,512),[[h,p.value]])])):y("",!0),e("section",null,[H,m.value?(_(),B(I,{key:0,yes:k,not:()=>{m.value=!1}},null,8,["not"])):y("",!0)])],32)])]))}};export{I as C,K as _,L as a};
