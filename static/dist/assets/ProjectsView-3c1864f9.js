import{_ as j,g as k,r as $,h as g,a as r,c as n,d as t,t as d,i as p,j as S,b as _,w as C,u as m,R as P,k as y,F as h,p as w,f as x,l as q,s as N,o as V,m as I,n as B}from"./index-c15193be.js";import{H as F,F as O}from"./Footer-5634ce0e.js";import{C as R,_ as T,a as H}from"./ManipulateProject-d7f53c72.js";import{c as f}from"./index-9fdbf0c7.js";const L=e=>(w("data-v-4ad4af1c"),e=e(),x(),e),A={class:"card"},D={class:"top"},E={key:0},M={key:1},z=["checked"],G=L(()=>t("button",null,"ver",-1)),J={__name:"CardProject",props:{id:{required:!0,type:Number},title:{required:!0,type:String},description:{required:!0,type:String},budget:{type:Number},date:{type:Object},is_completed:{required:!0,type:Boolean}},setup(e){const o=e,i=k(),a=$(!1),u=async()=>{a.value=!1,i.set(!0),await f.deleteproject(o.id,()=>i.set(!1))},v=g(()=>`${o.description.slice(0,60)}${o.description.length>60?"...":""}`),b=g(()=>f.formatnumber(o.budget));return(c,s)=>(r(),n(h,null,[t("div",A,[t("div",D,[t("h3",null,d(e.title),1),t("button",{onClick:s[0]||(s[0]=()=>{a.value=!0}),class:"btn-close"})]),t("p",null,d(v.value),1),t("p",null,[e.budget?(r(),n("em",E,"orçamento: "+d(b.value),1)):p("",!0),e.date?(r(),n("em",M,"data: "+d(e.date.day)+"."+d(e.date.month)+"."+d(e.date.year),1)):p("",!0),t("em",null,[S("feito: "),t("input",{disabled:"",type:"checkbox",checked:e.is_completed},null,8,z)])]),_(m(P),{to:`/projects/${e.id}`},{default:C(()=>[G]),_:1},8,["to"])]),a.value?(r(),y(R,{key:0,yes:u,not:()=>{a.value=!1}},null,8,["not"])):p("",!0)],64))}},K=j(J,[["__scopeId","data-v-4ad4af1c"]]);const Q=e=>(w("data-v-301463d5"),e=e(),x(),e),U={key:0},W={id:"tools"},X=Q(()=>t("h2",{id:"projects-title"},"Projetos",-1)),Y={id:"projects"},Z={key:1,id:"add"},ee={__name:"ProjectsView",setup(e){const o=$(!1),i=q(),a=N(i).user,u=k();V(()=>f.update_title("Projects"));const v=g(()=>{let c=0;for(const s of a.value.projects)s.budget&&(c+=s.budget);return f.formatnumber(c)}),b=async c=>{u.set(!0);const s=await B.post("/api/v1/projects/",c,!1,()=>u.set(!1));s.id?(a.value.projects.push(s),o.value=!1):console.log(s)};return(c,s)=>(r(),n(h,null,[_(F),t("main",null,[_(T,null,{default:C(()=>[m(a).projects.length?(r(),n("div",U,[t("section",W,[X,t("div",null,[t("div",null,"Numero de projetos: "+d(m(a).projects.length),1),t("div",null,"Orçamento Total: "+d(v.value),1)])]),t("section",Y,[t("button",{onClick:s[0]||(s[0]=()=>{o.value=!0}),class:"add"}," + "),(r(!0),n(h,null,I(m(a).projects,l=>(r(),y(K,{id:l.id,title:l.title,description:l.description,date:l.started,budget:l.budget,is_completed:l.is_completed},null,8,["id","title","description","date","budget","is_completed"]))),256))])])):(r(),n("section",Z,[t("button",{onClick:s[1]||(s[1]=()=>{o.value=!0}),class:"add"}," + ")])),o.value?(r(),y(H,{key:2,action:"Adicionar",event:b,close:()=>{o.value=!1}},null,8,["close"])):p("",!0)]),_:1})]),_(O)],64))}},re=j(ee,[["__scopeId","data-v-301463d5"]]);export{re as default};
